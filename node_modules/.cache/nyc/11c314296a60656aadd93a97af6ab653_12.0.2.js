var cov_1vh7b25wla=function(){var path="/Users/andre/projects/settings-bill-expressjs/settings-bill.js",hash="b369a9a04c84658a9160e5535924a640fbf0b6c7",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/andre/projects/settings-bill-expressjs/settings-bill.js",statementMap:{"0":{start:{line:1,column:0},end:{line:124,column:1}},"1":{start:{line:8,column:21},end:{line:8,column:23}},"2":{start:{line:11,column:8},end:{line:11,column:43}},"3":{start:{line:12,column:8},end:{line:12,column:45}},"4":{start:{line:13,column:8},end:{line:13,column:45}},"5":{start:{line:14,column:8},end:{line:14,column:47}},"6":{start:{line:19,column:8},end:{line:24,column:9}},"7":{start:{line:29,column:19},end:{line:29,column:20}},"8":{start:{line:30,column:8},end:{line:35,column:9}},"9":{start:{line:31,column:12},end:{line:31,column:27}},"10":{start:{line:33,column:13},end:{line:35,column:9}},"11":{start:{line:34,column:12},end:{line:34,column:28}},"12":{start:{line:37,column:8},end:{line:41,column:11}},"13":{start:{line:45,column:8},end:{line:45,column:26}},"14":{start:{line:49,column:32},end:{line:49,column:34}},"15":{start:{line:52,column:8},end:{line:59,column:9}},"16":{start:{line:53,column:27},end:{line:53,column:44}},"17":{start:{line:55,column:12},end:{line:58,column:13}},"18":{start:{line:57,column:16},end:{line:57,column:45}},"19":{start:{line:61,column:8},end:{line:61,column:31}},"20":{start:{line:67,column:20},end:{line:67,column:21}},"21":{start:{line:69,column:8},end:{line:76,column:9}},"22":{start:{line:70,column:27},end:{line:70,column:44}},"23":{start:{line:72,column:12},end:{line:75,column:13}},"24":{start:{line:74,column:16},end:{line:74,column:37}},"25":{start:{line:77,column:8},end:{line:77,column:21}},"26":{start:{line:88,column:8},end:{line:88,column:50}},"27":{start:{line:92,column:23},end:{line:92,column:38}},"28":{start:{line:93,column:24},end:{line:93,column:40}},"29":{start:{line:94,column:8},end:{line:98,column:9}},"30":{start:{line:102,column:22},end:{line:102,column:34}},"31":{start:{line:103,column:36},end:{line:104,column:36}},"32":{start:{line:106,column:8},end:{line:106,column:35}},"33":{start:{line:110,column:22},end:{line:110,column:34}},"34":{start:{line:111,column:8},end:{line:111,column:38}},"35":{start:{line:114,column:4},end:{line:123,column:5}}},fnMap:{"0":{name:"SettingsBill",decl:{start:{line:1,column:26},end:{line:1,column:38}},loc:{start:{line:1,column:41},end:{line:124,column:1}},line:1},"1":{name:"setSettings",decl:{start:{line:10,column:13},end:{line:10,column:24}},loc:{start:{line:10,column:36},end:{line:15,column:5}},line:10},"2":{name:"getSettings",decl:{start:{line:17,column:13},end:{line:17,column:24}},loc:{start:{line:18,column:7},end:{line:25,column:5}},line:18},"3":{name:"recordAction",decl:{start:{line:27,column:13},end:{line:27,column:25}},loc:{start:{line:27,column:34},end:{line:42,column:5}},line:27},"4":{name:"actions",decl:{start:{line:44,column:13},end:{line:44,column:20}},loc:{start:{line:44,column:22},end:{line:46,column:5}},line:44},"5":{name:"actionsFor",decl:{start:{line:48,column:13},end:{line:48,column:23}},loc:{start:{line:48,column:29},end:{line:64,column:5}},line:48},"6":{name:"getTotal",decl:{start:{line:66,column:13},end:{line:66,column:21}},loc:{start:{line:66,column:28},end:{line:85,column:5}},line:66},"7":{name:"grandTotal",decl:{start:{line:87,column:13},end:{line:87,column:23}},loc:{start:{line:87,column:26},end:{line:89,column:5}},line:87},"8":{name:"totals",decl:{start:{line:91,column:13},end:{line:91,column:19}},loc:{start:{line:91,column:22},end:{line:99,column:5}},line:91},"9":{name:"hasReachedWarningLevel",decl:{start:{line:101,column:13},end:{line:101,column:35}},loc:{start:{line:101,column:37},end:{line:107,column:5}},line:101},"10":{name:"hasReachedCriticalLevel",decl:{start:{line:109,column:13},end:{line:109,column:36}},loc:{start:{line:109,column:38},end:{line:112,column:5}},line:109}},branchMap:{"0":{loc:{start:{line:30,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:30,column:8},end:{line:35,column:9}},{start:{line:30,column:8},end:{line:35,column:9}}],line:30},"1":{loc:{start:{line:33,column:13},end:{line:35,column:9}},type:"if",locations:[{start:{line:33,column:13},end:{line:35,column:9}},{start:{line:33,column:13},end:{line:35,column:9}}],line:33},"2":{loc:{start:{line:55,column:12},end:{line:58,column:13}},type:"if",locations:[{start:{line:55,column:12},end:{line:58,column:13}},{start:{line:55,column:12},end:{line:58,column:13}}],line:55},"3":{loc:{start:{line:72,column:12},end:{line:75,column:13}},type:"if",locations:[{start:{line:72,column:12},end:{line:75,column:13}},{start:{line:72,column:12},end:{line:75,column:13}}],line:72},"4":{loc:{start:{line:103,column:36},end:{line:104,column:36}},type:"binary-expr",locations:[{start:{line:103,column:36},end:{line:103,column:57}},{start:{line:104,column:15},end:{line:104,column:36}}],line:103}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1vh7b25wla.s[0]++;module.exports=function SettingsBill(){cov_1vh7b25wla.f[0]++;let smsCost;let callCost;let warningLevel;let criticalLevel;let actionList=(cov_1vh7b25wla.s[1]++,[]);function setSettings(settings){cov_1vh7b25wla.f[1]++;cov_1vh7b25wla.s[2]++;smsCost=Number(settings.smsCost);cov_1vh7b25wla.s[3]++;callCost=Number(settings.callCost);cov_1vh7b25wla.s[4]++;warningLevel=settings.warningLevel;cov_1vh7b25wla.s[5]++;criticalLevel=settings.criticalLevel;}function getSettings(){cov_1vh7b25wla.f[2]++;cov_1vh7b25wla.s[6]++;return{smsCost,callCost,warningLevel,criticalLevel};}function recordAction(action){cov_1vh7b25wla.f[3]++;let cost=(cov_1vh7b25wla.s[7]++,0);cov_1vh7b25wla.s[8]++;if(action==='sms'){cov_1vh7b25wla.b[0][0]++;cov_1vh7b25wla.s[9]++;cost=smsCost;}else{cov_1vh7b25wla.b[0][1]++;cov_1vh7b25wla.s[10]++;if(action==='call'){cov_1vh7b25wla.b[1][0]++;cov_1vh7b25wla.s[11]++;cost=callCost;}else{cov_1vh7b25wla.b[1][1]++;}}cov_1vh7b25wla.s[12]++;actionList.push({type:action,cost,timestamp:new Date()});}function actions(){cov_1vh7b25wla.f[4]++;cov_1vh7b25wla.s[13]++;return actionList;}function actionsFor(type){cov_1vh7b25wla.f[5]++;const filteredActions=(cov_1vh7b25wla.s[14]++,[]);// loop through all the entries in the action list 
cov_1vh7b25wla.s[15]++;for(let index=0;index<actionList.length;index++){const action=(cov_1vh7b25wla.s[16]++,actionList[index]);// check this is the type we are doing the total for 
cov_1vh7b25wla.s[17]++;if(action.type===type){cov_1vh7b25wla.b[2][0]++;cov_1vh7b25wla.s[18]++;// add the action to the list
filteredActions.push(action);}else{cov_1vh7b25wla.b[2][1]++;}}cov_1vh7b25wla.s[19]++;return filteredActions;// return actionList.filter((action) => action.type === type);
}function getTotal(type){cov_1vh7b25wla.f[6]++;let total=(cov_1vh7b25wla.s[20]++,0);// loop through all the entries in the action list 
cov_1vh7b25wla.s[21]++;for(let index=0;index<actionList.length;index++){const action=(cov_1vh7b25wla.s[22]++,actionList[index]);// check this is the type we are doing the total for 
cov_1vh7b25wla.s[23]++;if(action.type===type){cov_1vh7b25wla.b[3][0]++;cov_1vh7b25wla.s[24]++;// if it is add the total to the list
total+=action.cost;}else{cov_1vh7b25wla.b[3][1]++;}}cov_1vh7b25wla.s[25]++;return total;// the short way using reduce and arrow functions
// return actionList.reduce((total, action) => { 
//     let val = action.type === type ? action.cost : 0;
//     return total + val;
// }, 0);
}function grandTotal(){cov_1vh7b25wla.f[7]++;cov_1vh7b25wla.s[26]++;return getTotal('sms')+getTotal('call');}function totals(){cov_1vh7b25wla.f[8]++;let smsTotal=(cov_1vh7b25wla.s[27]++,getTotal('sms'));let callTotal=(cov_1vh7b25wla.s[28]++,getTotal('call'));cov_1vh7b25wla.s[29]++;return{smsTotal,callTotal,grandTotal:grandTotal()};}function hasReachedWarningLevel(){cov_1vh7b25wla.f[9]++;const total=(cov_1vh7b25wla.s[30]++,grandTotal());const reachedWarningLevel=(cov_1vh7b25wla.s[31]++,(cov_1vh7b25wla.b[4][0]++,total>=warningLevel)&&(cov_1vh7b25wla.b[4][1]++,total<criticalLevel));cov_1vh7b25wla.s[32]++;return reachedWarningLevel;}function hasReachedCriticalLevel(){cov_1vh7b25wla.f[10]++;const total=(cov_1vh7b25wla.s[33]++,grandTotal());cov_1vh7b25wla.s[34]++;return total>=criticalLevel;}cov_1vh7b25wla.s[35]++;return{setSettings,getSettings,recordAction,actions,actionsFor,totals,hasReachedWarningLevel,hasReachedCriticalLevel};};